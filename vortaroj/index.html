<!DOCTYPE html>

<!--
Google HTML5 slide template

Authors: Luke Mahé (code)
Marcin Wichary (code and design)

Dominic Mazzoni (browser compatibility)
Charles Chen (ChromeVox support)

URL: http://code.google.com/p/html5slides/
-->

<html>
  <head>
    <title>Dicionários persistentes e escaláveis com Álvaro Justen</title>
    <meta charset="utf-8">
    <script src="slides.js"></script>
  </head>

  <style>
    * { text-shadow: rgba(0, 0, 0, 0.2) 0 4px 5px; }
    /* article { background-color: #FBD302 !important; } */
    article { background-color: white !important; }
    h1 { margin-top: 0px !important; }
    h2 { position: static !important; }
    .centered {
      text-align: center !important;
    }
    img.centered { display: inline-block !important; margin: 0 !important; }
    .big { font-size: 120%; line-height: 110%; }
    .huge { font-size: 150%; line-height: 115%; }
    .super-huge { font-size: 200%; line-height: 120%; }
    .ultra-huge { font-size: 400%; line-height: 120%; }
    .ultra-mega-master-huge { font-size: 800%; line-height: 120%; }
    .ultra-mega-master-fucking-huge { font-size: 1600%; line-height: 120%; }
    .red-background { background-color: #FF0000 !important; }
    .white { color: #FFFFFF !important; }
    .middle-without-title { margin-top: 30% !important; }
    .middle-with-title { margin-top: 15% !important; }
    q, .author { margin: 0 !important; }
    pre { margin-top: 20px !important; padding: 5px 10px !important; }
    .right { position: absolute; right: 0; bottom: 0;
      border-bottom-right-radius: 20px; }
    .without-bullets > li::before { content: '' !important; }
    .dojo > img { position: absolute; right: 0; margin-top: 30px; }
    .dojo > a { position: absolute; bottom: 25px; font-size: 200%;
      margin-left: 80px; }
    .final > img { position: absolute; right: 0; top: 0;
      border-top-left-radius: 20px;
      border-top-right-radius: 20px; }
    .final > p { position: absolute; left: 0; bottom: 60px; width: 900px; }
    .turiquinhas > img { margin-top: 10px; }
    table { margin-top: 50px !important; }
    td { border: 0 !important; vertical-align: middle !important; }
  </style>
  <body style='display: none'>
    <section class='slides layout-regular template-default'>

      <article class="fill">
        <img src="images/palestra_vortaroj.jpg">
      </article>

      <article>
        <h1 class="centered black ultra-huge middle-without-title">
          Antes de mais nada...
        </h1>
      </article>

      <article>
        <h1>Álvaro Justen, prazer!</h1>
        <p class="centered big">
          {<a href="http://twitter.com/turicas">twitter.com</a>,
          <a href="http://github.com/turicas">github.com</a>,
          <a href="http://youtube.com/turicas">youtube.com</a>
          }/turicas
          <br>
          <a href="http://turicas.info/">turicas.info</a>
          <br>
          <a
            href="mailto:alvaro@CursoDeArduino.com.br">alvaro@CursoDeArduino.com.br</a>
          <br><br>
          <a href="http://www.CursoDeArduino.com.br"><img src="images/logo_curso-de-arduino.png"
            width="450"></a>
            <br>
          <a
            href="http://www.CursoDeArduino.com.br">www.CursoDeArduino.com.br</a>
          <br><br>
          <a href="http://emap.fgv.br"><img src="images/logo_fgv.gif"
            width="381" height="86"></a>
            <br>
          <a
            href="http://emap.fgv.br">emap.fgv.br</a>
        </p>
      </article>

      <article class="fill">
        <img src="images/rio-de-janeiro.jpg" width="810" height="630">
      </article>

      <article>
        <h1>As comunidades de software do Rio de Janeiro</h1>
        <table class="centered">
          <tr>
            <td> <a href="http://pythonrio.org"><img
                src="images/logo_pythonrio.png" width="200" height=""></a> </td>
            <td> <a href="http://arduinrio.cc/"><img
                src="images/logo_arduinrio.png" width="200" height=""></a> </td>
            <tr>
            </tr>
            <td> <a href="http://dojorio.org/"><img
                src="images/logo_dojorio.png" width="200" height=""></a> </td>
            <td> <a href="http://softwarelivre-rj.org/"><img
                src="images/logo_slrj.png" width="200" height=""></a> </td>
            <tr>
            </tr>
            <td> <a href="http://horaextra.org/"><img
                src="images/logo_horaextra.png" width="200" height=""></a> </td>
            <td> <a href="http://smallactsmanifesto.org"><img
                src="images/logo_small-acts.png" width="200" height=""></a> </td>
          </tr>
        </table>
      </article>

      <article>
        <h1>E vocês?</h1>
        <ul class="build huge">
          <li> Quem está pela primeira vez em um evento sobre Python?  </li>
          <li> Quem <b>não</b> é de Fortaleza? </li>
          <li> Quem conhece Python? </li>
          <li> Quem já trabalha com Python? </li>
        </ul>
      </article>

      <article>
        <p class="centered middle-without-title ultra-huge">
          <q>
            Python developers are hash-ad<b>dict</b>ed.
          </q>
        </p>
      </article>

      <article class="nobackground">
        <h1>Tipos básicos</h1>
<pre class="big">
i = 42 # inteiro

f = 3.14 # ponto flutuante

c = 1.5 + 5.3j # complexo!

s = "Fortal" # string

t = (1, "python") # tupla

l = [1, 2.3, "ab", [1, "b"]] # lista

d = {'a': 1, 2: 'b',
     (1, 2): [3, 4]} # dicionário
</pre>
      </article>

      <article>
        <h1>Dicionários</h1>
        <ul class="huge build">
          <li> "<i>Associative arrays</i>" </li>
          <li> Pares chave-valor (uma chave &rightarrow; um valor) </li>
          <li> Desordenados </li>
          <li> <b>Chaves</b> precisam ser <b>imutáveis</b> </li>
          <li> Classes em Python são baseadas em dicionários </li>
        </ul>
      </article>

      <article>
        <h1>Dicionários - uso</h1>
        <pre>
>>> my_dict = {}
>>> my_dict['key'] = 'value'
>>> my_dict['key2'] = 42
>>> 'key' in my_dict
True
>>> my_dict.keys()
['key2', 'key']
>>> my_dict['key']
'value'
>>> for key, value in my_dict.items(): print key, value
key2 42
key value
>>> del my_dict['key']
>>> my_dict.values()
[42]
>>> my_dict = {k: v for k, v in zip('123', '456')}
        </pre>
      </article>

      <article>
        <h1>Exemplo: indexador</h1>
        <ul class="huge build">
          <li> Índice invertido </li>
          <li>
            Muito simples (sem retirar stopwords, sem fazer stemming etc.)
          </li>
        </ul>
      </article>

      <article>
        <h1>Índice invertido: exemplo</h1>
        <ul class="big build">
          <li> doc1: <code>"three little birds"</code> </li>
          <li> doc2: <code>"every little thing"</code> </li>
          <li> Índice invertido:
          <table>
            <tr> <th>token</th> <th>documento</th> </tr>
            <tr> <td>three</td> <td>doc1</td> </tr>
            <tr> <td>little</td> <td>doc1, doc2</td> </tr>
            <tr> <td>birds</td> <td>doc1</td> </tr>
            <tr> <td>every</td> <td>doc2</td> </tr>
            <tr> <td>thing</td> <td>doc2</td> </tr>
          </table>
          </li>
        </ul>
      </article>

      <article class="nobackground">
        <q>Talk is cheap, show me the code!</q>
        <div class="author">Linus Torvalds</div>
        <p class="centered">
          <img src="images/linus-torvalds.jpg">
        </p>
      </article>

      <article>
        <h1 class="centered black ultra-huge">
          <br />
          Problema: uso de memória
        </h1>
      </article>

      <article>
        <h1>Dicionários - uso de memória</h1>
        <br />
        <img src="images/dict_size.png" alt="dict size per pair" width="800">
      </article>

      <article>
        <h1>Dicionários - uso de memória (2)</h1>
        <ul>
          <li> min: 36.000, avg: 52.907, max: 280.000 </li>
          <li>  Oscila entre (36 e 80B) + key + value por par chave-valor </li>
          </li>
        </ul>
        <img src="images/size_per_pairs.png" alt="dict size per pair" width="800">
      </article>

      <article>
        <h1 class="centered black ultra-huge">
          <br />
          Problema: não é persistente
        </h1>
      </article>

      <article>
        <h1>Possível solução: <code>gdbm</code></h1>
        <pre>
>>> import gdbm  # standard library
>>> persistent_dict = gdbm.open('test.dbm', 'c')

>>> persistent_dict['python'] = 'rules'

>>> persistent_dict[u'Álvaro'] = 'Turicas'
TypeError: gdbm mappings have string
indices only

>>> persistent_dict['Turicas'] = u'Álvaro'
TypeError: gdbm mappings have string
elements only
        </pre>
      </article>

      <article>
        <h1>Possível solução: <code>shelve</code></h1>
        <ul class="huge build">
          <li> <code>shelve in stdlib == True</code> </li>
          <li> <code>shelve == gdbm + pickle</code> </li>
          <li> <code>pickle</code>? </li>
          <li> Linus Torvalds </li>
        </ul>
      </article>

      <article>
        <h1 class="centered black ultra-huge">
          Problemas: acesso simultâneo, escalabilidade
        </h1>
      </article>

      <article>
        <h1>Possível solução: <code>pymongo</code></h1>
        <ul class="huge build">
          <li>
            <a href="http://www.mongodb.org/">MongoDB</a>:
            <ul class="build">
              <li> Não relacional </li>
              <li> Sem schema fixo </li>
              <li> JSON/BSON </li>
              <li> Replication, sharding etc. </li>
            </ul>
          </li>
          <li> Linus Torvalds </li>
        </ul>
      </article>

      <article>
        <h1 class="centered black ultra-huge">
          <br />
          Problema: interface :-/
        </h1>
      </article>

      <article>
        <h1>Solução: <code>mongodict</code></h1>
        <ul class="huge build">
          <li>
            <a href="https://github.com/turicas/mongodict">github.com/turicas/mongodict</a>
          </li>
          <li> Linus Torvalds </li>
        </ul>
      </article>

      <article>
        <h1 class="centered black ultra-huge">
          <br />
          Outras soluções?
        </h1>
      </article>

      <article>
        <h1><code>dict</code>s on steroids</h1>
        <ul class="big build">
          <li> <a href="http://www.memcached.org/">Memcached</a> </li>
          <li> <a href="http://www.memcachedb.org/">MemcacheDb</a> </li>
          <li> <a href="http://redis.io/">Redis</a> </li>
          <li> <a href="http://basho.com/products/riak/">Riak</a> </li>
          <li> <a href="https://github.com/basho/bitcask/">bitcask</a> </li>
          <li>
            <a href="http://">SQLite</a> (por que
            não?) - <a href="http://pypi.python.org/pypi/sqlitedict">sqlitedict</a>
          </li>
          <li> Tokyo Cabinet / Tokyo Tycoon </li>
          <li> &lt;<i>coloque sua buzzword aqui</i>&gt; </li>
        </ul>
      </article>

      <article>
        <h1 class="centered black huge middle-without-title">
          <img src="images/vortaroj-logo.png" alt="vortaroj logo">
          <br />
          A Python <code>dict</code> that speaks many languages
        </h1>
      </article>

      <article>
        <h1>vortaroj</h1>
        <ul class="build huge">
          <li> <a href="http://vortaroj.org/">vortaroj.org</a> </li>
          <li>
            <pre>

>>> translate('vortaroj', from='eo', to='pt')
'dicion\xc3\xa1rios'
            </pre>
          </li>
          <li>
            Help needed!
            <ul>
              <li> <a
                  href="https://github.com/turicas/vortaroj">github.com/turicas/vortaroj</a>
              </li>
            </ul>
          </li>
        </ul>
      </article>

      <article class="fill">
        <p class="middle-without-title centered">
          <br /> <br /> <br /> <br />
          <code>2 a 4 de outubro de 2013</code>,
          <code>Brasília/DF</code>
        </p>
        <img src="images/pybr9.jpg" alt="PyBr9" width="800">
      </article>

      <article>
        <p class="centered ultra-mega-master-fucking-huge">?</p>
      </article>

      <article class="nobackground final">
        <img width="897" height="430"
        src="images/so-long-and-thanks-for-all-the-fish.png">
          <p class="centered">
            {<a href="http://twitter.com/turicas">twitter.com</a>,
            <a href="http://github.com/turicas">github.com</a>,
            <a href="http://youtube.com/turicas">youtube.com</a>
            }/turicas
            <br />
            <a href="http://turicas.info/">turicas.info</a>
            <br>
            <a
              href="mailto:alvaro@CursoDeArduino.com.br">alvaro@CursoDeArduino.com.br</a>
            <br>
            <a
              href="http://www.CursoDeArduino.com.br">www.CursoDeArduino.com.br</a>
          </p>
      </article>

    </section>
  </body>
</html>
